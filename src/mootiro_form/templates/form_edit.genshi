<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      py:strip=''>
  <?python
    request.page_deps.package('jquery.ui')
    request.page_deps.stylesheet('form_edit')
  ?>
  <py:def function="head_content()">
  </py:def>

  <py:def function="left_content()">
    <form id='LeftForm' method="post" action="$action">
      <ul class="ui-tabs-nav">
        <li><a href='#TabForm'>Form</a></li>
        <li><a href='#TabVisual'>Visual</a></li>
        <li><a href='#TabAdd'>Add field</a></li>
        <li><a href='#TabEdit'>Edit field</a></li>
      </ul>
      <div id='TabForm' class="ui-tabs-panel">
        <div>
          <label for="form_name">Form&nbsp;title&nbsp;*</label>
          <input name="form_name" id="form_name" type="text"
            maxlength="255" size="26" value="$form.name" />
        </div>
      </div>
      <div id='TabVisual'>
        TODO: Visual editing here
      </div>
      <div id='TabAdd'>
        <div class='Pad'>
          <p class='ShortHelp'>Click on a field to add it to the end of the form, or drag it to the proper position on the right.</p>
        </div>
        <hr />
        <h3>Text</h3>
        <hr />
        <h3>Options</h3>
        <hr />
      </div>
      <div id='TabEdit'>
        TODO: Field editing here.
      </div>
        <div id="btnSend"><input type="submit" value="Save"
             title="Save your alterations to this form" /></div>
    </form>
    <script type="text/javascript">
$(function() {
  $("#LeftForm").tabs();
});
    </script>
    <script src="${static_url('mootiro_form:static/js/form_edit.js')}" />
  </py:def>

  <py:def function="right_content()">
    <form id='FormEdit' method="POST" enctype='multipart/form-data'
      action="${url('form', action='new')}">
    </form>
    <div id="FormDisplay">
      <div id='YourLogo'>Your logo here</div>
      <h1 id="DisplayTitle" py:content="form.name" />
      <div id="FormDescription">Public description of your form</div>
        <div py:for="field in form.fields">
          <div>
            <label>${field.name}</label>
            [render field here]
            <div style="clear: both;"></div>
          </div>
          <div id="submitButton">
            <input id="submit" name="submit" type="submit" value="Submit" />
          </div>
        </div>
    </div>
  </py:def>
  <xi:include href="master_logged.genshi" />
</html>
